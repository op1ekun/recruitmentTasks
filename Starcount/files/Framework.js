!function(e){function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var t={};return r.m=e,r.c=t,r.p="",r(0)}([function(e,r,t){"use strict";function n(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r["default"]=e,r}function o(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return u.setConfig(e),{render:u.render}}var i=t(1),u=n(i);window.Framework={create:o}},function(e,r,t){"use strict";function n(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r["default"]=e,r}function o(e){var r=document.querySelector(d.template).innerHTML,t=l.compile(r),n=document.querySelector(e);return t(d.data).then(function(r){n.innerHTML=r,f.forEach(function(r){var t=n.querySelector(e+' *[data-event="'+r+'"]'),o=r.split(":"),i=a(o,2),u=i[0],c=i[1];t&&d[c]&&t.addEventListener(u,d[c])})})}function i(){var e=arguments.length<=0||void 0===arguments[0]?{data:{},template:""}:arguments[0];d=e}function u(){return d}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,r){var t=[],n=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(n=(u=a.next()).done)&&(t.push(u.value),!r||t.length!==r);n=!0);}catch(c){o=!0,i=c}finally{try{!n&&a["return"]&&a["return"]()}finally{if(o)throw i}}return t}return function(r,t){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return e(r,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();r.render=o,r.setConfig=i,r.getConfig=u;var c=t(2),l=n(c),f=["keyup:titleChanged","click:clearTitle"],d=void 0},function(e,r){"use strict";function t(e){return function(r){return new Promise(function(t,n){setTimeout(function(){try{!function(){var n=e;Object.keys(r).forEach(function(e){var t=new RegExp("{{"+e+"}}","g");n=n.replace(t,r[e])}),t(n.replace(/{{[a-zA-Z0-9]+}}/g,""))}()}catch(o){n(o)}},0)})}}Object.defineProperty(r,"__esModule",{value:!0}),r.compile=t}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vRnJhbWV3b3JrLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCAwOWY4ZDhjYWFkODAwYjQxYjEwNCIsIndlYnBhY2s6Ly8vLi9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbGliL21vZHVsZXMvdmlldy5qcyIsIndlYnBhY2s6Ly8vLi9saWIvbW9kdWxlcy92aWV3L3RlbXBsYXRlLmpzIl0sIm5hbWVzIjpbIm1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiZXhwb3J0cyIsIm1vZHVsZSIsImlkIiwibG9hZGVkIiwiY2FsbCIsIm0iLCJjIiwicCIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwib2JqIiwiX19lc01vZHVsZSIsIm5ld09iaiIsImtleSIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY3JlYXRlIiwiY29uZmlnIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwidmlldyIsInNldENvbmZpZyIsInJlbmRlciIsIl92aWV3Iiwid2luZG93IiwiRnJhbWV3b3JrIiwic2VsZWN0b3IiLCJ0bXBsU3RyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwidGVtcGxhdGUiLCJpbm5lckhUTUwiLCJjb21waWxlZFRtcGwiLCJjb21waWxlIiwiY29udGVudEVsZW0iLCJkYXRhIiwidGhlbiIsInBhcnNlZFRtcGwiLCJzdXBwb3J0ZWRFdmVudHMiLCJmb3JFYWNoIiwiZXZlbnROYW1lIiwiZXZlbnRFbGVtIiwiX2V2ZW50TmFtZSRzcGxpdCIsInNwbGl0IiwiX2V2ZW50TmFtZSRzcGxpdDIiLCJfc2xpY2VkVG9BcnJheSIsInR5cGUiLCJoYW5kbGVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm5ld0NvbmZpZyIsImdldENvbmZpZyIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJzbGljZUl0ZXJhdG9yIiwiYXJyIiwiaSIsIl9hcnIiLCJfbiIsIl9kIiwiX2UiLCJfcyIsIl9pIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJuZXh0IiwiZG9uZSIsInB1c2giLCJlcnIiLCJBcnJheSIsImlzQXJyYXkiLCJUeXBlRXJyb3IiLCJfdGVtcGxhdGUiLCJ0bXBsRGF0YSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwic2V0VGltZW91dCIsImtleXMiLCJ2YWx1ZU5hbWUiLCJyZWdleCIsIlJlZ0V4cCIsInJlcGxhY2UiXSwibWFwcGluZ3MiOiJDQUFTLFNBQVVBLEdDSW5CLFFBQUFDLEdBQUFDLEdBR0EsR0FBQUMsRUFBQUQsR0FDQSxNQUFBQyxHQUFBRCxHQUFBRSxPQUdBLElBQUFDLEdBQUFGLEVBQUFELElBQ0FFLFdBQ0FFLEdBQUFKLEVBQ0FLLFFBQUEsRUFVQSxPQU5BUCxHQUFBRSxHQUFBTSxLQUFBSCxFQUFBRCxRQUFBQyxJQUFBRCxRQUFBSCxHQUdBSSxFQUFBRSxRQUFBLEVBR0FGLEVBQUFELFFBdkJBLEdBQUFELEtBcUNBLE9BVEFGLEdBQUFRLEVBQUFULEVBR0FDLEVBQUFTLEVBQUFQLEVBR0FGLEVBQUFVLEVBQUEsR0FHQVYsRUFBQSxLRE1NLFNBQVNJLEVBQVFELEVBQVNILEdBRS9CLFlBTUEsU0FBU1csR0FBd0JDLEdBQU8sR0FBSUEsR0FBT0EsRUFBSUMsV0FBYyxNQUFPRCxFQUFjLElBQUlFLEtBQWEsSUFBVyxNQUFQRixFQUFlLElBQUssR0FBSUcsS0FBT0gsR0FBV0ksT0FBT0MsVUFBVUMsZUFBZVgsS0FBS0ssRUFBS0csS0FBTUQsRUFBT0MsR0FBT0gsRUFBSUcsR0FBZ0MsT0FBdEJELGNBQWlCRixFQUFZRSxFRWxEblEsUUFBU0ssS0FBb0IsR0FBYkMsR0FBYUMsVUFBQUMsUUFBQSxHQUFBQyxTQUFBRixVQUFBLE1BQUFBLFVBQUEsRUFJekIsT0FGQUcsR0FBS0MsVUFBVUwsSUFHWE0sT0FBUUYsRUFBS0UsUUFQckIsR0FBQUMsR0FBQTNCLEVBQUEsR0FBWXdCLEVGa0RBYixFQUF3QmdCLEVFdkNw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c0NvbnRlbnQiOlsiLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge30sXG4vKioqKioqLyBcdFx0XHRpZDogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgX3ZpZXcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIHZpZXcgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdmlldyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlKCkge1xuXHQgICAgdmFyIGNvbmZpZyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuXHRcblx0XG5cdCAgICB2aWV3LnNldENvbmZpZyhjb25maWcpO1xuXHRcblx0ICAgIHJldHVybiB7XG5cdCAgICAgICAgcmVuZGVyOiB2aWV3LnJlbmRlclxuXHQgICAgfTtcblx0fVxuXHRcblx0d2luZG93LkZyYW1ld29yayA9IHtcblx0ICAgIGNyZWF0ZTogY3JlYXRlXG5cdH07XG5cbi8qKiovIH0sXG4vKiAxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9zbGljZWRUb0FycmF5ID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9IHJldHVybiBmdW5jdGlvbiAoYXJyLCBpKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgcmV0dXJuIGFycjsgfSBlbHNlIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpIHsgcmV0dXJuIHNsaWNlSXRlcmF0b3IoYXJyLCBpKTsgfSBlbHNlIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIik7IH0gfTsgfSgpO1xuXHRcblx0ZXhwb3J0cy5yZW5kZXIgPSByZW5kZXI7XG5cdGV4cG9ydHMuc2V0Q29uZmlnID0gc2V0Q29uZmlnO1xuXHRleHBvcnRzLmdldENvbmZpZyA9IGdldENvbmZpZztcblx0XG5cdHZhciBfdGVtcGxhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIHRlbXBsYXRlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3RlbXBsYXRlKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cdFxuXHR2YXIgc3VwcG9ydGVkRXZlbnRzID0gWydrZXl1cDp0aXRsZUNoYW5nZWQnLCAnY2xpY2s6Y2xlYXJUaXRsZSddO1xuXHRcblx0dmFyIGNvbmZpZyA9IHZvaWQgMDtcblx0XG5cdGZ1bmN0aW9uIHJlbmRlcihzZWxlY3Rvcikge1xuXHRcblx0ICAgIHZhciB0bXBsU3RyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb25maWcudGVtcGxhdGUpLmlubmVySFRNTDtcblx0ICAgIHZhciBjb21waWxlZFRtcGwgPSB0ZW1wbGF0ZS5jb21waWxlKHRtcGxTdHIpO1xuXHQgICAgdmFyIGNvbnRlbnRFbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG5cdFxuXHQgICAgcmV0dXJuIGNvbXBpbGVkVG1wbChjb25maWcuZGF0YSkudGhlbihmdW5jdGlvbiAocGFyc2VkVG1wbCkge1xuXHQgICAgICAgIGNvbnRlbnRFbGVtLmlubmVySFRNTCA9IHBhcnNlZFRtcGw7XG5cdFxuXHQgICAgICAgIHN1cHBvcnRlZEV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChldmVudE5hbWUpIHtcblx0ICAgICAgICAgICAgdmFyIGV2ZW50RWxlbSA9IGNvbnRlbnRFbGVtLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IgKyAnICpbZGF0YS1ldmVudD1cIicgKyBldmVudE5hbWUgKyAnXCJdJyk7XG5cdFxuXHQgICAgICAgICAgICB2YXIgX2V2ZW50TmFtZSRzcGxpdCA9IGV2ZW50TmFtZS5zcGxpdCgnOicpO1xuXHRcblx0ICAgICAgICAgICAgdmFyIF9ldmVudE5hbWUkc3BsaXQyID0gX3NsaWNlZFRvQXJyYXkoX2V2ZW50TmFtZSRzcGxpdCwgMik7XG5cdFxuXHQgICAgICAgICAgICB2YXIgdHlwZSA9IF9ldmVudE5hbWUkc3BsaXQyWzBdO1xuXHQgICAgICAgICAgICB2YXIgaGFuZGxlciA9IF9ldmVudE5hbWUkc3BsaXQyWzFdO1xuXHRcblx0XG5cdCAgICAgICAgICAgIGlmIChldmVudEVsZW0gJiYgY29uZmlnW2hhbmRsZXJdKSB7XG5cdCAgICAgICAgICAgICAgICBldmVudEVsZW0uYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBjb25maWdbaGFuZGxlcl0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdCAgICB9KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gc2V0Q29uZmlnKCkge1xuXHQgICAgdmFyIG5ld0NvbmZpZyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHsgZGF0YToge30sIHRlbXBsYXRlOiAnJyB9IDogYXJndW1lbnRzWzBdO1xuXHRcblx0ICAgIGNvbmZpZyA9IG5ld0NvbmZpZztcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0Q29uZmlnKCkge1xuXHQgICAgcmV0dXJuIGNvbmZpZztcblx0fVxuXG4vKioqLyB9LFxuLyogMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5jb21waWxlID0gY29tcGlsZTtcblx0ZnVuY3Rpb24gY29tcGlsZSh0bXBsU3RyKSB7XG5cdFxuXHQgICAgLyogZXNsaW50IGFycm93LWJvZHktc3R5bGU6IFtcImVycm9yXCIsIFwiYWx3YXlzXCJdICovXG5cdCAgICByZXR1cm4gZnVuY3Rpb24gKHRtcGxEYXRhKSB7XG5cdFxuXHQgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdFxuXHQgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgICAgICAgICAgKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnNlZFRtcGwgPSB0bXBsU3RyO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXModG1wbERhdGEpLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlTmFtZSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cCgne3snICsgdmFsdWVOYW1lICsgJ319JywgJ2cnKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZFRtcGwgPSBwYXJzZWRUbXBsLnJlcGxhY2UocmVnZXgsIHRtcGxEYXRhW3ZhbHVlTmFtZV0pO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBub3QgcmVwbGFjZWQgdmFsdWVzIGFuZCByZXNvbHZlXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocGFyc2VkVG1wbC5yZXBsYWNlKC97e1thLXpBLVowLTldK319L2csICcnKSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSkoKTtcblx0ICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuXHQgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9LCAwKTtcblx0ICAgICAgICB9KTtcblx0ICAgIH07XG5cdH1cblxuLyoqKi8gfVxuLyoqKioqKi8gXSk7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogRnJhbWV3b3JrLmpzXG4gKiovIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGlkOiBtb2R1bGVJZCxcbiBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiB3ZWJwYWNrL2Jvb3RzdHJhcCAwOWY4ZDhjYWFkODAwYjQxYjEwNFxuICoqLyIsImltcG9ydCAqIGFzIHZpZXcgZnJvbSAnLi9tb2R1bGVzL3ZpZXcuanMnO1xyXG5cclxuZnVuY3Rpb24gY3JlYXRlKGNvbmZpZyA9IHt9KSB7XHJcblxyXG4gICAgdmlldy5zZXRDb25maWcoY29uZmlnKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHJlbmRlcjogdmlldy5yZW5kZXIsXHJcbiAgICB9O1xyXG59XHJcblxyXG53aW5kb3cuRnJhbWV3b3JrID0ge1xyXG4gICAgY3JlYXRlLFxyXG59O1xyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2xpYi9pbmRleC5qc1xuICoqLyIsImltcG9ydCAqIGFzIHRlbXBsYXRlIGZyb20gJy4vdmlldy90ZW1wbGF0ZS5qcyc7XHJcblxyXG5jb25zdCBzdXBwb3J0ZWRFdmVudHMgPSBbXHJcbiAgICAna2V5dXA6dGl0bGVDaGFuZ2VkJyxcclxuICAgICdjbGljazpjbGVhclRpdGxlJyxcclxuXTtcclxuXHJcbmxldCBjb25maWc7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyKHNlbGVjdG9yKSB7XHJcblxyXG4gICAgY29uc3QgdG1wbFN0ciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29uZmlnLnRlbXBsYXRlKS5pbm5lckhUTUw7XHJcbiAgICBjb25zdCBjb21waWxlZFRtcGwgPSB0ZW1wbGF0ZS5jb21waWxlKHRtcGxTdHIpO1xyXG4gICAgY29uc3QgY29udGVudEVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcclxuXHJcbiAgICByZXR1cm4gY29tcGlsZWRUbXBsKGNvbmZpZy5kYXRhKVxyXG4gICAgICAgIC50aGVuKChwYXJzZWRUbXBsKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnRlbnRFbGVtLmlubmVySFRNTCA9IHBhcnNlZFRtcGw7XHJcblxyXG4gICAgICAgICAgICBzdXBwb3J0ZWRFdmVudHMuZm9yRWFjaCgoZXZlbnROYW1lKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBldmVudEVsZW0gPSBjb250ZW50RWxlbS5xdWVyeVNlbGVjdG9yKGAke3NlbGVjdG9yfSAqW2RhdGEtZXZlbnQ9XCIke2V2ZW50TmFtZX1cIl1gKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IFt0eXBlLCBoYW5kbGVyXSA9IGV2ZW50TmFtZS5zcGxpdCgnOicpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChldmVudEVsZW0gJiYgY29uZmlnW2hhbmRsZXJdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRFbGVtLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgY29uZmlnW2hhbmRsZXJdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0Q29uZmlnKG5ld0NvbmZpZyA9IHsgZGF0YToge30sIHRlbXBsYXRlOiAnJyB9KSB7XHJcbiAgICBjb25maWcgPSBuZXdDb25maWc7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRDb25maWcoKSB7XHJcbiAgICByZXR1cm4gY29uZmlnO1xyXG59XHJcblxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2xpYi9tb2R1bGVzL3ZpZXcuanNcbiAqKi8iLCJleHBvcnQgZnVuY3Rpb24gY29tcGlsZSh0bXBsU3RyKSB7XHJcblxyXG4gICAgLyogZXNsaW50IGFycm93LWJvZHktc3R5bGU6IFtcImVycm9yXCIsIFwiYWx3YXlzXCJdICovXHJcbiAgICByZXR1cm4gKHRtcGxEYXRhKSA9PiB7XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhcnNlZFRtcGwgPSB0bXBsU3RyO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyh0bXBsRGF0YSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmZvckVhY2goKHZhbHVlTmFtZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKGB7eyR7dmFsdWVOYW1lfX19YCwgJ2cnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZFRtcGwgPSBwYXJzZWRUbXBsLnJlcGxhY2UocmVnZXgsIHRtcGxEYXRhW3ZhbHVlTmFtZV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIG5vdCByZXBsYWNlZCB2YWx1ZXMgYW5kIHJlc29sdmVcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHBhcnNlZFRtcGwucmVwbGFjZSgve3tbYS16QS1aMC05XSt9fS9nLCAnJykpO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIDApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2xpYi9tb2R1bGVzL3ZpZXcvdGVtcGxhdGUuanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9